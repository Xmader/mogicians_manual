"use strict";var _offline="undefined"!=typeof _offline;_offline&&$(".navbar-brand").append("<small>(\u79BB\u7EBF\u7248)</small>");var json,t,is_Firefox=-1<navigator.userAgent.indexOf("Firefox"),full_screen_video=function(){$("#modal").after($(".modal_media")),$(".modal_media").addClass("full_screen_video").after("<button type=\"button\" class=\"btn btn-primary\" onclick=\"exit_full_screen_video()\" id=\"exit_full_screen_video\">\u9000\u51FA\u7F51\u9875\u5185\u5168\u5C4F</button>")},exit_full_screen_video=function(){$("#exit_full_screen_video").remove(),$(".modal_media").removeClass("full_screen_video"),$("#m_body").append($(".modal_media"))},init_modal=function(b,c){var a=json.contents[b].contents[c];$("#m_title").text(a.title),$("#m_body").html("<p>"+a.content.replace(/\n/g,"</p><p>")),$(".download_video").remove(),$("#full_screen_video").remove(),$(".modal-body").css("padding","20px 24px 0px")},init_video_img_modal=function(a,b,c){$("#m_title").text(b),$("#m_body").html("dou"==c?"<img src=\"".concat(a,"\" class=\"modal_media\" />"):"<video src=\"".concat(a,"\" class=\"modal_media\" preload=\"auto\" controls></video>")),$(".download_video").remove(),$(".modal-footer").prepend("<a href=\"".concat(a,"\" target=\"_blank\" class=\"btn btn-primary download_video\" download>\u4E0B\u8F7D").concat("dou"==c?"\u56FE\u7247":"\u89C6\u9891","</a>")),$("#full_screen_video").remove(),"dou"!=c&&"undefined"==typeof _cordova&&$(".modal-footer").prepend("<button type=\"button\" class=\"btn btn-primary\" onclick=\"full_screen_video()\" id=\"full_screen_video\">\u7F51\u9875\u5185\u5168\u5C4F\u89C6\u9891</button>"),$(".modal-body").css("padding","20px 0px")},json_callback=function(b){if($("#card-deck").html(""),"string"==typeof b){var c=b.split("\n");c.shift(),c.pop(),json=JSON.parse(c.join("\n"))}else json=b;if(1==json.type){var d=json.url;_offline&&(d=d.replace("https://raw.githubusercontent.com/Xmader/mogicians_manual/offline/",""))}for(var e=0;e<json.contents.length;e++){for(var f=json.contents[e],g=f.contents,h="",j=0;j<g.length;j++){var k=g[j],l=k.title;switch(t){case"chang":{h+="<li class=\"list-group-item grey chang\">\n                        <span class=\"audio_title\">".concat(l,"</span>\n                        <a href=\"").concat(d).concat(k.filename,"\" target=\"_blank\" class=\"download_music\" download>\n                            <i class=\"fa fa-download\" aria-hidden=\"true\"></i>\n                        </a>\n                        <audio class=\"audio").concat(is_Firefox?"_Firefox":"","\" src=\"").concat(d).concat(k.filename,"\" controls></audio>\n                    </li>");break}default:{var m="dou"==t||"videos"==t?"init_video_img_modal('".concat(d).concat(k.filename,"','").concat(l,"','").concat(t,"');"):"init_modal('".concat(e,"','").concat(j,"');");h+="<li class=\"list-group-item\">\n                        <a data-toggle=\"modal\" href=\"#modal\" data-target=\"#modal\" onclick=\"".concat(m,"\">\n                            ").concat(l,"\n                        </a>\n                    </li>")}}}var n="\n    <div class=\"card\">\n        <h5 class=\"card-header\">".concat(f.title,"</h5>\n        <ul class=\"list-group list-group-flush\">\n            ").concat(h,"\n        </ul>\n    </div>");$("#card-deck").append(n)}"chang"==t&&($(".list-group-item.chang").css("padding-bottom",$("audio").height()+23+"px"),!is_Firefox&&$(".download_music").hide())},show_bottom_nav=function(){for(var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[{id:"shuo",name:"\u8BF4",icon:"microphone"},{id:"xue",name:"\u5B66",icon:"book"},{id:"dou",name:"\u9017",icon:"smile-o"},{id:"chang",name:"\u5531",icon:"music"},{id:"videos",name:"\u8D4F",icon:"film"}],b=0;b<a.length;b++){var c=a[b],d=c.id,e=c.name,f=c.icon;$(".bottom-nav").append("\n        <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#/".concat(d,"\" id=\"").concat(d,"\">\n                <i class=\"fa fa-").concat(f,"\" aria-hidden=\"true\"></i> &nbsp;").concat(e,"</a>\n        </li>\n        "))}},init=function(){if(t=location.hash.slice(2)||"shuo",$(".nav-link").removeClass("active"),$("#"+t).addClass("active"),$("#card-deck").html("\n    <div class=\"card\">\n        <h5 class=\"card-header\">\u52A0\u8F7D\u4E2D, \u8BF7\u7A0D\u540E...</h5>\n    </div>"),_offline){var a=document.createElement("script");a.src="resource/".concat(t,".json?callback=json_callback"),document.getElementsByTagName("body")[0].appendChild(a)}else $.get("https://raw.githubusercontent.com/Xmader/mogicians_manual/offline/resource/"+t+".json",json_callback)};$("#modal").on("hidden.bs.modal",function(){return $("#m_body").html(" ")}),window.onhashchange=function(){return init()};
/*! 膜法指南 网页版 | Source Code: https://github.com/Xmader/mogicians_manual/blob/master/index.js */